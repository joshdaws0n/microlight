/* ===== DESIGN SYSTEM =====
 * Core design tokens that control the entire site appearance */
:root {
    /* COLORS - Light Mode Default */
    --color-text: #000000;
    --color-text-light: #333333;
    --color-text-muted: #666666;
    --color-background: #f7f7f7;
    --color-background-alt: #e9e9e9;
    --color-border: #c8c8c8;
    --color-border-light: #e1e5e9;
    --color-link: #555555;
    --color-link-hover: #000000;
    --color-accent: #666666;
    
    /* TYPOGRAPHY */
    --font-family-base: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Liberation Sans", FreeSans, sans-serif;
    --font-family-mono: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Liberation Mono", "Courier New", monospace;
    --font-size-base: 18px;
    --font-size-large: 20px;
    --font-size-small: 16px;
    --font-size-xs: 14px;
    --line-height-base: 1.6;
    --line-height-tight: 1.4;
    --line-height-loose: 1.8;
    
    /* SPACING */
    --spacing-xs: 0.25rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 1rem;
    --spacing-lg: 1.5rem;
    --spacing-xl: 2rem;
    --spacing-2xl: 3rem;
    --spacing-3xl: 4rem;
    
    /* LAYOUT */
    --container-width: 42rem;
    --container-width-wide: 36rem;
    --header-height: 3.75rem;
    --touch-target-height: 44px;
    --button-padding: var(--spacing-md) var(--spacing-lg);
    --button-padding-compact: var(--spacing-sm) var(--spacing-md);
    
    /* SHADOWS */
    --shadow-light: 0 4px 12px rgba(0, 0, 0, 0.1);
    --shadow-medium: 0 8px 24px rgba(0, 0, 0, 0.15);
    --shadow-heavy: 0 8px 32px rgba(0, 0, 0, 0.3);
    
    /* BORDER RADIUS */
    --radius-small: 5px;
    --radius-medium: 8px;
    --radius-large: 12px;
    
    /* ANIMATIONS */
    --transition-fast: 0.15s ease;
    --transition-base: 0.2s ease;
    --transition-slow: 0.3s ease;

    /* Bootstrap compatibility */
    --bs-body-bg: var(--color-background);
    --bs-body-color: var(--color-text);
    --bs-border-width: 1px;
    --bs-border-color: var(--color-border);
}

/* ===== DARK MODE ===== */
@media (prefers-color-scheme: dark) {
    :root {
        --color-text: #e5e5e5;
        --color-text-light: #cccccc;
        --color-text-muted: #999999;
        --color-background: #232630;
        --color-background-alt: #323542;
        --color-border: #4b4b4b;
        --color-border-light: #333333;
        --color-link: #aaaaaa;
        --color-link-hover: #e5e5e5;
        --color-accent: #888888;

        /* Bootstrap compatibility */
        --bs-body-bg: var(--color-background);
        --bs-body-color: var(--color-text);
        --bs-border-color: var(--color-border);
    }
}

/* ===== SMOOTH TRANSITIONS ===== */
*, *::before, *::after {
    transition: background-color var(--transition-base), color var(--transition-base), border-color var(--transition-base);
    box-sizing: border-box;
}

/* ===== ACCESSIBILITY: REDUCED MOTION ===== */
@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

/* ===== FOUNDATIONAL STYLES ===== */
html {
    font-size: var(--font-size-base);
    line-height: var(--line-height-base);
    -webkit-text-size-adjust: 100%;
    scroll-padding-top: var(--header-height);
}

@media (prefers-reduced-motion: no-preference) {
    html {
        scroll-behavior: smooth;
    }
}

body {
    margin: 0;
    padding: 0;
    font-family: var(--font-family-base);
    color: var(--color-text);
    background-color: var(--color-background);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    letter-spacing: 0.01em;
}

/* ===== TYPOGRAPHY ===== */
h1, h2, h3, h4, h5, h6 {
    margin: 0 0 var(--spacing-md);
    font-weight: 600;
    line-height: var(--line-height-tight);
    color: var(--color-text);
}

h1:first-child,
h2:first-child,
h3:first-child {
    margin-top: 0;
}

h1 { font-size: 2rem; }
h2 { font-size: 1.5rem; }
h3 { font-size: 1.25rem; }
h4 { font-size: 1.1rem; }
h5 { font-size: 1rem; }
h6 { font-size: 0.9rem; }

/* Global styles */
a {
    color: var(--color-link);
    transition: color var(--transition-fast);
}

a:hover {
    color: var(--color-link-hover);
}
.no-under {
  text-decoration: none;
  text-decoration-line: none !important;
  text-underline-offset: unset;
}

.no-under:hover {
  text-decoration: none;
  text-decoration-line: none !important;
  text-underline-offset: unset;
}

/* ===== DARK MODE OVERRIDES ===== */
@media (prefers-color-scheme: dark) {
    body {
        background-color: var(--color-background);
    }
    
    /* filter for images */
    img {
        filter: brightness(.8) contrast(0.9);
        border: 1px solid var(--color-border-light);
    }
    
    .card {
        background-color: var(--color-background);
        border-color: var(--color-border);
    }
    
    .border, .border-start, .border-top, .border-bottom, .border-end {
        border-color: var(--color-border) !important;
    }
    
    .sticky-sidebar {
        background: var(--color-background-alt) !important;
    }
    .sidebar-main {
        background: var(--color-background-alt) !important;
    }
    .sidebar-overlay-panel {
        background: var(--color-background-alt) !important;
    }
    .sidebar-border {
        border-color: var(--color-border) !important;
    }
}

/* Homepage */
.social-icons .icon-link:not(:last-child) {
  margin-right: 0.5rem;
}

.home-active {
  font-weight: bold !important;
}

/* ===== TOP NAVIGATION ===== */
.sticky-sidebar {
    position: -webkit-sticky;
    position: sticky;
    top: 0;
    width: 100%;
    height: var(--header-height);
    z-index: 1000;
    background: var(--bs-body-bg);
    overflow: visible;
    padding-top: env(safe-area-inset-top, 0);
    border-bottom: var(--bs-border-width) solid var(--color-border);
    /* iOS Safari viewport fix */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
}

/* iOS Safari specific fixes */
@supports (-webkit-touch-callout: none) {
    .sticky-sidebar {
        position: fixed;
        top: env(safe-area-inset-top, 0);
        left: 0;
        right: 0;
    }
    
    /* Add top padding to body to compensate for fixed navbar on iOS */
    body {
        padding-top: calc(var(--header-height) + env(safe-area-inset-top, 0));
    }
    
    /* Adjust main content positioning */
    #content {
        padding-top: var(--spacing-sm); /* Reduce top padding since body now has padding */
    }
}

.sidebar-main {
    height: var(--header-height);
    transition: all var(--transition-base);
    position: relative;
    z-index: 2;
    background: var(--bs-body-bg);
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin: 0 auto;
    padding: 0 var(--spacing-md);
    border-bottom: var(--bs-border-width) solid var(--color-border);

}

/* Desktop: constrain navbar content to match page content width */
@media (min-width: 769px) {
    .sidebar-main {
        max-width: var(--container-width-wide);
        width: 100%;
    }
}

/* Mobile: use full width */
@media (max-width: 768px) {
    .sidebar-main {
        width: 100%;
    }
}

/* Desktop dropdown panel */
@media (min-width: 769px) {
    #sidebar-overlay-panel-desktop {
        position: absolute;
        top: calc(100% + var(--spacing-sm)); /* Add small gap below navbar */
        right: 0; /* Now positioned relative to the button container */
        width: 20rem;
        max-height: 70vh;
        background: var(--color-background-alt);
        box-shadow: var(--shadow-medium);
        z-index: 1001;
        pointer-events: none;
        opacity: 0;
        border: var(--bs-border-width) solid var(--color-border);
        border-radius: var(--radius-medium);
        overflow-y: auto;
    }
    
    .sticky-sidebar.sidebar-expanded #sidebar-overlay-panel-desktop {
        pointer-events: auto;
        opacity: 1;
        transition: opacity var(--transition-base);
    }
}

/* Mobile slide-in panel */
@media (max-width: 768px) {
    body.sidebar-expanded {
        overflow: hidden;
    }
    
    #sidebar-overlay-panel-mobile {
        position: fixed;
        top: var(--header-height);
        left: -100%;
        width: 80%;
        max-width: 300px;
        height: calc(100vh - var(--header-height));
        background: var(--color-background-alt);
        box-shadow: var(--shadow-heavy);
        z-index: 1001;
        pointer-events: none;
        opacity: 0;
        transition: left var(--transition-slow), opacity var(--transition-slow);
        border-right: var(--bs-border-width) solid var(--color-border);
        overflow-y: auto;
        padding: var(--spacing-md);
    }
    
    .sticky-sidebar.sidebar-expanded #sidebar-overlay-panel-mobile {
        left: 0;
        pointer-events: auto;
        opacity: 1;
    }

    /* Mobile backdrop */
    .sticky-sidebar.sidebar-expanded::after {
        content: '';
        position: fixed;
        top: var(--header-height);
        left: 0;
        width: 100%;
        height: calc(100vh - var(--header-height));
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        opacity: 1;
    }
}

/* ===== BLOG NAME ===== */
.blog-name {
    writing-mode: horizontal-tb;
    transform: none;
    text-align: left;
    font-weight: 600;
    font-size: var(--font-size-large);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    padding: 0;
    margin: 0;
    flex: 1;
}

.blog-name a {
    color: var(--color-text) !important;
    text-decoration: none;
}

.blog-name a:hover {
    color: var(--color-link-hover) !important;
}

.category-btn {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%; /* Optional: makes button full width */
  text-align: left;
  gap: 0.5rem; /* Optional: space between text and badge */
}

.no-show-border {
  border: none !important;
}

.rotated-dropdown {
  position: relative;
  transform: none;
  writing-mode: horizontal-tb;
}

.reset-transform {
  transform: none !important;
  writing-mode: horizontal-tb !important;
  position: absolute !important;
  top: 100% !important;
  right: 0 !important;
  left: auto !important;
  z-index: 9999;
  min-width: 12rem;
}

@media (prefers-color-scheme: dark) {
  .reset-transform {
    border-color: rgb(75, 75, 75);
  }

  .dropdown-item:focus, .dropdown-item:hover {
    background-color: rgb(75, 75, 75);
  }

  .dropdown-item.active, .dropdown-item:active {
    color: var(--bs-dropdown-link-active-color);
    text-decoration: none;
    background-color: rgb(50, 53, 66);
  }
}



.profile-photo {
  width: 32px;
  height: 32px;
  object-fit: cover;
  border-radius: 50%;
}

.post-content img {
  display: none !important;
}

.single-post-content img {
  width: 100% !important;
  height: 100% !important;
  margin-bottom: 0.5rem;
}

.post-content p:empty {
  display: none;
}

.post-content p:last-of-type {
  margin-bottom: 0 !important;
}

.MoviesLetterboxd .post-content p:nth-last-of-type(2) {
  margin-bottom: 0 !important;
}

.mb-2.d-flex.flex-wrap>h4:not(:last-child) {
  margin-right: 0.5rem;
}

.mb-2.d-flex.flex-wrap>h1:not(:last-child) {
  margin-right: 0.5rem;
}

.btn-xs {
  padding: 0.05rem 0.35rem !important;
}

/* pagination links */
.nav-link {
  color: var(--bs-body-color) !important;
}

/* ===== SEARCH ===== */
.search-wrapper {
    position: relative;
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.search-toggle {
    color: var(--color-text);
    background: transparent;
}

/* Desktop inline search */
@media (min-width: 769px) {
    .search-form {
        position: absolute;
        top: 50%;
        right: calc(100% + var(--spacing-sm)); /* Appears to the left of search button */
        transform: translateY(-50%);
        width: 0;
        overflow: hidden;
        opacity: 0;
        z-index: 1002;
        background: var(--color-background);
        box-shadow: var(--shadow-medium);
        padding: 0;
        height: var(--touch-target-height);
        display: flex;
        align-items: center;
        border: var(--bs-border-width) solid var(--color-border);
        border-radius: var(--radius-medium);
        transition: width var(--transition-base), opacity var(--transition-base);
    }
    
    .search-form.expanded {
        width: 16rem;
        opacity: 1;
        padding: 0 var(--spacing-sm);
    }
}

/* Mobile floating search (existing behavior) */
@media (max-width: 768px) {
    .search-form {
        position: fixed;
        top: calc(var(--header-height) + var(--spacing-sm));
        right: var(--spacing-md);
        width: 0;
        overflow: hidden;
        opacity: 0;
        z-index: 9999;
        background: var(--color-background);
        box-shadow: var(--shadow-medium);
        padding: 0;
        height: var(--touch-target-height);
        display: flex;
        align-items: center;
        border: var(--bs-border-width) solid var(--color-border);
        border-radius: var(--radius-medium);
    }
    
    .search-form.expanded {
        width: 20rem;
        opacity: 1;
        padding: 0 var(--spacing-sm);
    }
}

.search-form input {
    border: none;
    padding: var(--spacing-sm);
    font-size: var(--font-size-base);
    width: 100%;
    background: transparent;
    outline: none;
    box-shadow: none !important;
    color: var(--color-text);
}

.field {
    border-radius: var(--radius-medium) !important;
}

#list_results {
    box-shadow: none !important;
    border: none !important;
    padding: 0 !important;
}

#list_results p:not(:first-child) {
    border-top: var(--bs-border-width) var(--bs-border-style) var(--color-border) !important;
    padding-top: var(--spacing-sm) !important;
}

.search-result:hover {
    text-decoration-line: underline;
    text-decoration-style: wavy;
    text-underline-offset: 0.3rem;
}

/* timeline */

/* ===== TIMELINE STYLES ===== */

.sessions {
  border-radius: var(--radius-medium);
  position: relative;
  margin-bottom: var(--spacing-2xl);
}

li.timeline-line {
  padding-bottom: var(--spacing-xl);
  position: relative;
  padding-left: var(--spacing-xl);
  margin-left: var(--spacing-md);

  &:last-child {
    padding-bottom: 0;
  }

  &:not(:last-child)::after {
    content: '';
    position: absolute;
    left: -1px;
    top: 16px;
    bottom: 0;
    width: var(--bs-border-width);
    background-color: var(--color-border);
  }

  &:before {
    content: '';
    width: 12px;
    height: 12px;
    background: var(--color-background);
    border: 2px solid var(--color-link);
    border-radius: 50%;
    position: absolute;
    left: -7px;
    top: 5px;
    transition: all var(--transition-fast);
  }
}

li.timeline-line:hover::before {
  background: var(--color-link);
  transform: scale(1.1);
}

.time {
  font-weight: 600;
  font-size: var(--font-size-small);
  color: var(--color-text);
  margin-bottom: var(--spacing-xs);
}

.time a {
  color: var(--color-link);
  text-decoration: none;
  transition: color var(--transition-fast);
}

.time a:hover {
  color: var(--color-link-hover);
}

@media (max-width: 600px) {
  .time {
    font-size: var(--font-size-xs);
    margin-bottom: var(--spacing-sm);
  }
}

p.timeline-text {
  line-height: var(--line-height-base);
  margin-top: var(--spacing-sm);
  color: var(--color-text);
  font-size: var(--font-size-base);
}

@media (max-width: 600px) {
  p.timeline-text {
    font-size: var(--font-size-small);
  }
}

blockquote {
  margin-bottom: 1rem;
  font-size: 1.25rem;
  border-left: 3px solid;
}

blockquote p {
  margin-left: 0.5rem;
}

/* lightbox */

#lightbox {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7);
  z-index: 9999;
}

.lightbox-container {
  display: flex;
  justify-content: space-evenly;
  align-items: center;
  height: 100%;
  width: 100%;
}

.lightbox-container img {
  max-width: 90%;
  max-height: 90%;
}

.lightbox-container img:hover {
  cursor: pointer;
}

.grid-item {
  width: 48%;
  margin-bottom: 10px;
}

/* ===== PHOTO GRID OVERLAY ===== */
.photo-item {
  position: relative;
  display: block;
  overflow: hidden;
  border-radius: var(--radius-medium);
  text-decoration: none;
}

.photo-item img {
  transition: transform var(--transition-slow);
}

.photo-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    180deg,
    transparent 0%,
    transparent 40%,
    rgba(0, 0, 0, 0.4) 70%,
    rgba(0, 0, 0, 0.8) 100%
  );
  opacity: 0;
  transition: opacity var(--transition-base);
  display: flex;
  align-items: flex-end;
  padding: var(--spacing-lg);
  border-radius: var(--radius-medium);
}

.photo-overlay-content {
  color: white;
  width: 100%;
  transform: translateY(10px);
  transition: transform var(--transition-base);
}

.photo-date {
  font-size: var(--font-size-xs);
  font-weight: 600;
  margin-bottom: var(--spacing-xs);
  opacity: 0.9;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.photo-text {
  font-size: var(--font-size-small);
  line-height: var(--line-height-tight);
  color: rgba(255, 255, 255, 0.95);
}

/* Hover effects */
.photo-item:hover .photo-overlay {
  opacity: 1;
}

.photo-item:hover .photo-overlay-content {
  transform: translateY(0);
}

.photo-item:hover img {
  transform: scale(1.05);
}

/* Dark mode adjustments */
@media (prefers-color-scheme: dark) {
  .photo-overlay {
    background: linear-gradient(
      180deg,
      transparent 0%,
      transparent 40%,
      rgba(0, 0, 0, 0.6) 70%,
      rgba(0, 0, 0, 0.9) 100%
    );
  }
}

/* ===== CONVERSATION SECTION ===== */
.microblog_conversation {
  position: relative;
  display: flex;
  flex-direction: column;
  min-width: 0;
  word-wrap: break-word;
  background: transparent;
  background-clip: border-box;
  border: none;
  border-radius: 0;
  padding: 0;
  margin-top: var(--spacing-2xl);
  margin-bottom: var(--spacing-2xl);
}

/* Add conversation title */
.microblog_conversation::before {
  content: 'Conversation';
  display: block;
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--color-text);
  margin-bottom: var(--spacing-lg);
  padding-bottom: var(--spacing-md);
  border-bottom: var(--bs-border-width) solid var(--color-border);
}

.microblog_conversation > *:not(:first-child) {
  margin-top: var(--spacing-lg);
  border-top: var(--bs-border-width) solid var(--color-border-light);
  padding-top: var(--spacing-lg);
}

@media (prefers-color-scheme: dark) {
  .microblog_conversation {
    background: transparent;
  }

  .microblog_conversation > *:not(:first-child) {
    border-top-color: var(--color-border-light);
  }
}

.microblog_user {
  display: flex;
  align-items: center;
  margin-bottom: var(--spacing-sm);
}

.microblog_fullname {
  font-weight: 600;
  color: var(--color-text);
  font-size: var(--font-size-small);
}

.microblog_avatar {
  border-radius: 50%;
  margin-right: var(--spacing-sm);
  border: var(--bs-border-width) solid var(--color-border-light);
}

.microblog_text {
  padding: 0;
  margin-bottom: var(--spacing-sm);
  line-height: var(--line-height-base);
}

.microblog_text p {
  margin-bottom: 0 !important;
  color: var(--color-text);
  font-size: var(--font-size-base);
}

.microblog_time {
  font-size: var(--font-size-xs);
  color: var(--color-text-muted);
}

.microblog_time a {
  color: var(--color-text-muted);
  text-decoration: none;
  transition: color var(--transition-fast);
}

.microblog_time a:hover {
  color: var(--color-link-hover);
}

/* Reply form styling */
.microblog_reply_signin {
  font-size: var(--font-size-small);
  color: var(--color-text-muted);
  margin-bottom: var(--spacing-md);
}

.microblog_reply_signin a {
  color: var(--color-link);
  text-decoration: none;
}

.microblog_reply_signin a:hover {
  color: var(--color-link-hover);
  text-decoration: underline;
}

.microblog_reply_textarea {
  margin-bottom: var(--spacing-md);
}

.microblog_reply_textarea textarea {
  width: 100%;
  font-family: var(--font-family-base);
  font-size: var(--font-size-base);
  line-height: var(--line-height-base);
  color: var(--color-text);
  background-color: var(--color-background);
  border: var(--bs-border-width) solid var(--color-border);
  border-radius: var(--radius-medium);
  padding: var(--spacing-md);
  resize: vertical;
  min-height: 100px;
  transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
}

.microblog_reply_textarea textarea:focus {
  outline: none;
  border-color: var(--color-link);
  box-shadow: 0 0 0 2px rgba(85, 85, 85, 0.1);
}

.microblog_reply_button {
  margin-bottom: 0 !important;
}

.microblog_reply_button input {
  display: inline-block;
  font-weight: 500;
  font-family: var(--font-family-base);
  color: #fff;
  background-color: var(--color-link);
  border: var(--bs-border-width) solid var(--color-link);
  text-align: center;
  vertical-align: middle;
  user-select: none;
  padding: var(--spacing-sm) var(--spacing-lg);
  font-size: var(--font-size-base);
  line-height: var(--line-height-base);
  border-radius: var(--radius-medium);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.microblog_reply_button input:hover:not(:disabled) {
  color: #fff;
  background-color: var(--color-link-hover);
  border-color: var(--color-link-hover);
}

.microblog_reply_button input:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.carousel-item {
  height: 10rem;
  background-color: grey;
}

.album-info {
  display: flex;
  align-items: center;
}

.album-art {
  max-width: 100px;
  height: auto;
  /* margin-right: 10px; */
}

.book-art {
  max-width: 100px;
  min-width: 100px;
  height: 100px;
  object-fit: cover;
  object-position: top;
}

.album-wrapper {
  position: relative;
  display: inline-block;
}

.album-wrapper .spinner-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.spinner-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: rgba(255, 255, 255, 0.8);
  z-index: 1;
}

@media (prefers-color-scheme: dark) {
  .spinner-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: rgba(50, 53, 66, 0.8);
    z-index: 1;
  }
}

.spinner {
  width: 20px;
  height: 20px;
  border: 4px solid rgba(0, 0, 0, 0.1);
  border-radius: 50%;
  border-top-color: grey;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

.lastfm-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(80, 80, 80, 0.2);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 2;
  color: #fff;
  transition: background-color 0.3s ease;
}

.lastfm-overlay i {
  opacity: 0.9;
  transition: opacity 0.3s ease;
}

.lastfm-overlay:hover {
  background-color: rgba(80, 80, 80, 0.4);
}
.lastfm-overlay:hover i {
  opacity: 1;
}
.card-img {
  height: 9rem;
  object-fit: cover;
}

.card-img-overlay {
  display: flex;
  justify-content: center;
  background-color: rgba(255, 255, 255, 0.6);
}

@media (prefers-color-scheme: dark) {
  .card-img-overlay {
    display: flex;
    background-color: rgba(50, 53, 66, 0.7);
  }
}

.card-img-album-info {
  align-self: center;
}

.icon-svg {
  width: 1.35em; /* Matches fa-xl size */
  height: 1.35em;
  fill: currentColor; /* Inherits text color */
  vertical-align: middle; /* Aligns with text */
  position: relative;
  top: -0.1em; /* Adjust this value to fine-tune alignment */
}

.post-meta-container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--bs-card-spacer-y) 0
}

.post-meta-container .u-url {
  margin-right: auto; /* Pushes the first item to the left */
}

.sidebar-border {
  border-color: var(--bs-border-color);
}

.single-categories .d-flex.flex-wrap {
  row-gap: 0.25rem; 
  column-gap: 0.25rem;
}

/* ===== MAIN CONTENT LAYOUT ===== */
#content {
    max-width: var(--container-width-wide);
    margin: 0 auto;
    width: 100%;
    padding-top: var(--spacing-lg);
}

/* ===== POST SEPARATORS ===== */
.post-card:not(:last-child)::after {
    content: '';
    display: block;
    width: 100%;
    height: 1px;
    background-color: var(--color-border);
    position: absolute;
    bottom: calc(-1 * var(--spacing-3xl) / 2); /* Centers perfectly in the mb-5 (3rem) gap */
    left: 0;
}

.post-card {
    position: relative;
}

/* Add extra spacing above posts with images to balance with separator line */
.post-card .post-image {
    margin-top: var(--spacing-lg);
}

/* ===== EXTENDED MARGIN UTILITIES ===== */
/* Additional margin-bottom classes with more space than Bootstrap's mb-5 */
.mb-6 { margin-bottom: var(--spacing-3xl) !important; } /* 4rem */
.mb-7 { margin-bottom: 5rem !important; }
.mb-8 { margin-bottom: 6rem !important; }
.mb-9 { margin-bottom: 7rem !important; }
.mb-10 { margin-bottom: 8rem !important; }

/* Additional margin-top classes for consistency */
.mt-6 { margin-top: var(--spacing-3xl) !important; } /* 4rem */
.mt-7 { margin-top: 5rem !important; }
.mt-8 { margin-top: 6rem !important; }
.mt-9 { margin-top: 7rem !important; }
.mt-10 { margin-top: 8rem !important; }

.Music .card-body iframe {
  display: block;
  margin-top: -1rem !important;
  width: 100% !important;
  max-width: none;
}

